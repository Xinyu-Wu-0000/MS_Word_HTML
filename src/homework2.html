<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- MS Word like style -->
    <link rel="stylesheet" href="../MS_Word/ms_word.css">
    <link rel="stylesheet" href="../paper-css-master/paper.css">
    <style>
        @page {
            size: A3 landscape
        }
    </style>
    <!-- katex -->
    <link rel="stylesheet" href="../katex/katex.min.css">
    <script src="../katex/katex.min.js"></script>
    <script src="../katex/contrib/auto-render.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                delimiters: [
                    { left: '$$', right: '$$', display: true },
                    { left: '$', right: '$', display: false },
                    { left: '\\(', right: '\\)', display: false },
                    { left: '\\[', right: '\\]', display: true },
                    { left: "\\begin{equation}", right: "\\end{equation}", display: true },
                    { left: "\\begin{split}", right: "\\end{split}", display: true },
                    { left: "\\begin{align}", right: "\\end{align}", display: true },
                    { left: "\\begin{alignat}", right: "\\end{alignat}", display: true },
                    { left: "\\begin{gather}", right: "\\end{gather}", display: true },
                    { left: "\\begin{CD}", right: "\\end{CD}", display: true },
                ],
                throwOnError: false
            });
        });
    </script>
    <!-- code highligh from highlight.js -->
    <link rel="stylesheet" media="print" href="../highlight/styles/github.min.css">
    <link rel="stylesheet" media="screen" href="../highlight/styles/github-dark.min.css">
    <script src="../highlight/highlight.js"></script>
    <script src="../highlight/languages/julia.min.js"></script>
    <script>hljs.highlightAll();</script>
    <!-- for dark preview-->
    <style>
        @media screen {

            html,
            body {
                background: rgb(53, 53, 53) !important;
            }

            .sheet,
            .page {
                background: black !important;
                color: white !important;
                box-shadow: 0 .1mm 10mm rgb(8, 8, 8);
            }
        }
    </style>
    <!-- tailwindcss -->
    <link rel="stylesheet" href="style.css">
    <!-- math.js chat.js and plotly.js -->
    <script src="../mathjs/math.js"></script>
    <script src="../chartjs/chart.min.js"></script>
    <script src="../plotlyjs/plotly.min.js"></script>
    <script type="module" src="plot.js"></script>
</head>

<body class="A3 landscape">
    <div class="sheet p-[15mm]">
        <h1 class="text-center text-[26pt]">Homework 2 of Robotics</h1>
        <br>
        <br>
        <h2 class="text-[20pt]">Problem I</h2>
        <div class="ml-[2em] box-content">
            <div class="text-[15pt]">let</div>
            \begin{equation}R=
            \left[
            \begin{array}{ccc}
            r_{11} & r_{12} & r_{13} \\
            r_{21} & r_{22} & r_{23} \\
            r_{31} & r_{32} & r_{33} \\
            \end{array}
            \right]
            \end{equation}
            \begin{equation}\omega=
            \left[
            \begin{array}{c}
            a \\
            b \\
            c \\
            \end{array}
            \right]
            \end{equation}

            <div class="text-[15pt]">have</div>
            \begin{split}
            R\hat{\omega}R^T
            =&\left[
            \begin{array}{c}
            a r_{11} + b r_{12} + c r_{13} \\
            a r_{21} + b r_{22} + c r_{23} \\
            a r_{31} + b r_{32} + c r_{33} \\
            \end{array}
            \right]
            \left[
            \begin{array}{ccc}
            r_{11} & r_{21} & r_{31} \\
            r_{12} & r_{22} & r_{32} \\
            r_{13} & r_{23} & r_{33} \\
            \end{array}
            \right] \\

            =&\left[
            \begin{array}{ccc}
            c r_{12} - b r_{13} & a r_{13} - c r_{11} & b r_{11} - a r_{12} \\
            0 & 0 & 0 \\
            0 & 0 & 0 \\
            \end{array}
            \right]\left[
            \begin{array}{ccc}
            r_{11} & r_{21} & r_{31} \\
            r_{12} & r_{22} & r_{32} \\
            r_{13} & r_{23} & r_{33} \\
            \end{array}
            \right]\\
            &+
            \left[
            \begin{array}{ccc}
            0 & 0 & 0 \\
            c r_{22} - b r_{23} & a r_{23} - c r_{21} & b r_{21} - a r_{22} \\
            0 & 0 & 0 \\
            \end{array}
            \right]\left[
            \begin{array}{ccc}
            r_{11} & r_{21} & r_{31} \\
            r_{12} & r_{22} & r_{32} \\
            r_{13} & r_{23} & r_{33} \\
            \end{array}
            \right]\\
            &+
            \left[
            \begin{array}{ccc}
            0 & 0 & 0 \\
            0 & 0 & 0 \\
            c r_{32} - b r_{33} & a r_{33} - c r_{31} & b r_{31} - a r_{32} \\
            \end{array}
            \right]\left[
            \begin{array}{ccc}
            r_{11} & r_{21} & r_{31} \\
            r_{12} & r_{22} & r_{32} \\
            r_{13} & r_{23} & r_{33} \\
            \end{array}
            \right]
            \end{split}
        </div>
    </div>
    <div class="sheet p-[15mm]">
        <p class="ml-[2em]">
            \begin{equation}
            \begin{split}
            =&\left[
            \begin{array}{ccc}
            0 & r_{23} \left( b r_{11} - a r_{12} \right) + r_{21} \left( c r_{12} - b r_{13} \right) + r_{22}
            \left( a
            r_{13} - c r_{11} \right) & r_{31} \left( c r_{12} - b r_{13} \right) + r_{33} \left( b r_{11} - a
            r_{12}
            \right) +
            r_{32} \left( a r_{13} - c r_{11} \right) \\
            0 & 0 & 0 \\
            0 & 0 & 0 \\
            \end{array}
            \right]\\
            &+
            \left[
            \begin{array}{ccc}
            0 & 0 & 0 \\
            r_{13} \left( b r_{21} - a r_{22} \right) + r_{12} \left( a r_{23} - c r_{21} \right) + r_{11} \left( c
            r_{22} - b
            r_{23} \right) & 0 & r_{33} \left( b r_{21} - a r_{22} \right) + r_{32} \left( a r_{23} - c r_{21}
            \right) +
            r_{31} \left( c r_{22} - b r_{23} \right) \\
            0 & 0 & 0 \\
            \end{array}
            \right]\\
            &+
            \left[
            \begin{array}{ccc}
            0 & 0 & 0 \\
            0 & 0 & 0 \\
            r_{11} \left( c r_{32} - b r_{33} \right) + r_{13} \left( b r_{31} - a r_{32} \right) + r_{12} \left( a
            r_{33} - c
            r_{31} \right) & r_{22} \left( a r_{33} - c r_{31} \right) + r_{23} \left( b r_{31} - a r_{32} \right) +
            r_{21} \left( c
            r_{32} - b r_{33} \right) & 0 \\
            \end{array}
            \right]\\
            \end{split}
            \end{equation}
        <div class="text-[15pt]">from the properties of $SO(3)$:</div>
        \begin{equation}
        \left[
        \begin{array}{c}
        r_{11} \\
        r_{12} \\
        r_{13} \\
        \end{array}
        \right]\times
        \left[
        \begin{array}{c}
        r_{21} \\
        r_{22} \\
        r_{23} \\
        \end{array}
        \right]
        =
        \left[
        \begin{array}{c}
        r_{31} \\
        r_{32} \\
        r_{33} \\
        \end{array}
        \right]
        =
        \left[
        \begin{array}{c}
        r_{12} r_{23} - r_{13} r_{22} \\
        r_{13} r_{21} - r_{11} r_{23} \\
        r_{11} r_{22} - r_{12} r_{21} \\
        \end{array}
        \right]
        \end{equation}

        \begin{equation}
        \left[
        \begin{array}{c}
        r_{21} \\
        r_{22} \\
        r_{23} \\
        \end{array}
        \right]\times
        \left[
        \begin{array}{c}
        r_{31} \\
        r_{32} \\
        r_{33} \\
        \end{array}
        \right]
        =
        \left[
        \begin{array}{c}
        r_{11} \\
        r_{12} \\
        r_{13} \\
        \end{array}
        \right]
        =
        \left[
        \begin{array}{c}
        r_{22} r_{33} - r_{23} r_{32} \\
        r_{23} r_{31} - r_{21} r_{33} \\
        r_{21} r_{32} - r_{22} r_{31} \\
        \end{array}
        \right]
        \end{equation}
        \begin{equation}
        \left[
        \begin{array}{c}
        r_{31} \\
        r_{32} \\
        r_{33} \\
        \end{array}
        \right]\times
        \left[
        \begin{array}{c}
        r_{11} \\
        r_{12} \\
        r_{13} \\
        \end{array}
        \right]=
        \left[
        \begin{array}{c}
        r_{21} \\
        r_{22} \\
        r_{23} \\
        \end{array}
        \right]
        =
        \left[
        \begin{array}{c}
        r_{13} r_{32} - r_{12} r_{33} \\
        r_{11} r_{33} - r_{13} r_{31} \\
        r_{12} r_{31} - r_{11} r_{32} \\
        \end{array}
        \right]
        \end{equation}

        <div class="text-[15pt]">rewite (3) as:</div>
        \begin{equation}
        \begin{split}
        R\hat{\omega}R^T
        =&\left[
        \begin{array}{ccc}
        0 & -(a r_{31} + b r_{32} + c r_{33}) & a r_{21} + b r_{22} + c r_{23} \\
        a r_{31} + b r_{32} + c r_{33} & 0 & -(a r_{11} + b r_{12} + c r_{13}) \\
        -(a r_{21} + b r_{22} + c r_{23}) & a r_{11} + b r_{12} + c r_{13} & 0 \\
        \end{array}
        \right]
        \end{split}
        \end{equation}
        \begin{equation}(R\omega)^{\wedge}=
        \left[
        \begin{array}{c}
        a r_{11} + b r_{12} + c r_{13} \\
        a r_{21} + b r_{22} + c r_{23} \\
        a r_{31} + b r_{32} + c r_{33} \\
        \end{array}
        \right]^{\wedge}=\left[
        \begin{array}{ccc}
        0 & -(a r_{31} + b r_{32} + c r_{33}) & a r_{21} + b r_{22} + c r_{23} \\
        a r_{31} + b r_{32} + c r_{33} & 0 & -(a r_{11} + b r_{12} + c r_{13}) \\
        -(a r_{21} + b r_{22} + c r_{23}) & a r_{11} + b r_{12} + c r_{13} & 0 \\
        \end{array}
        \right]
        \end{equation}

        <div class="text-[15pt]">Then we get the result $R\hat{\omega}R^T=(R\omega)^{\wedge}$</div>
    </div>
    <div class="sheet p-[15mm]">
        <h2 class="text-[20pt]">some of the Julia code for matrix calculation:
        </h2>
        <pre><code class="language-julia">
            using Symbolics, Latexify, LinearAlgebra
            copy_to_clipboard(true)
            @variables r_11 r_12 r_13 r_21 r_22 r_23 r_31 r_32 r_33
            R=[r_11 r_12 r_13;
            r_21 r_22 r_23;
            r_31 r_32 r_33]
            @variables a b c
            ω=[a; b; c]
            ω_hat=[0 -c b
            c 0 -a
            -b a 0]
            r_1=[r_11, r_12, r_13]
            r_2=[r_21, r_22, r_23]
            r_3=[r_31, r_32, r_33]
        </code></pre>
        <div class="mt-8">
            <h2 class="text-[20pt]">
                some demo plot with <code>plot.js</code>
            </h2>
            <div class="flex justify-center">
                <div id="plot_1" class="w-1/2"></div>
            </div>
        </div>
    </div>
</body>

</html>
